/*
 * Author: Andrew Powell
 * Purpose: Small example application, demonstrating how the ADI I2C core
 * and the SSM2603 audio codec of the Zybo board can be utilized with a
 * c driver.
 */

#include "xparameters.h"
#include "xil_assert.h"
#include "xiicps.h"
#include "audio_cppwrap.h"

#define IIC_DEVICE_ID		( XPAR_XIICPS_0_DEVICE_ID )

/* Define the low-level behavior for the audio driver. */
class audio_driver : public audio_cppwrap
{
public:
private:
	void mem_access( audio_dir dir, uint32_t phy_addr, uint32_t* data, void* param ) = 0;
	void i2c_trans( audio_dir dir, uint8_t slave_addr, uint8_t* data, size_t len, void* param ) = 0;
	void i2c_delay( unsigned int ms, void* param ) = 0;
};

int main()
{
	/* First step, configure the I2C driver! */
	{
		int Status;
		XIicPs_Config *Config;

		Config = XIicPs_LookupConfig( IIC_DEVICE_ID );
		Xil_AssertNonvoid( Config!=NULL );
	}

	/* This application will run indefinitely. */
	while ( true )
	{

	}
	return 0;
}

void audio_driver::mem_access( audio_dir dir, uint32_t phy_addr, uint32_t* data, void* param )
{

}

void audio_driver::i2c_trans( audio_dir dir, uint8_t slave_addr, uint8_t* data, size_t len, void* param )
{

}

void audio_driver::i2c_delay( unsigned int ms, void* param )
{

}


